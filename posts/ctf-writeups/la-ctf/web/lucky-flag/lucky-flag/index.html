<!doctype html><html lang=en><head><title>LA-CTF - Lucky flag ¬∑ Anthrace | CTF Writeups</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Anthrace"><meta name=description content="
  üìå Description du challenge
  
    
    Link to heading
  

Dans ce challenge, je suis face √† une page web remplie de milliers de boutons portant tous l‚Äô√©tiquette &ldquo;flag&rdquo;.

L&rsquo;objectif est de trouver le bon bouton qui affiche le flag.


  üîç √âtape 1 : Inspection du code source
  
    
    Link to heading
  

Plut√¥t que de cliquer sur des milliers de boutons je trouve un fichier main.js qui g√®re le fonctionnement des boutons."><meta name=keywords content="ctf,hacking,cybersecurity,writeups,web,osint,forensic,crypto"><meta name=twitter:card content="summary"><meta name=twitter:title content="LA-CTF - Lucky flag"><meta name=twitter:description content="üìå Description du challenge Link to heading Dans ce challenge, je suis face √† une page web remplie de milliers de boutons portant tous l‚Äô√©tiquette ‚Äúflag‚Äù.
L‚Äôobjectif est de trouver le bon bouton qui affiche le flag.
üîç √âtape 1 : Inspection du code source Link to heading Plut√¥t que de cliquer sur des milliers de boutons je trouve un fichier main.js qui g√®re le fonctionnement des boutons."><meta property="og:url" content="https://anthr4ce.github.io/posts/ctf-writeups/la-ctf/web/lucky-flag/lucky-flag/"><meta property="og:site_name" content="Anthrace | CTF Writeups"><meta property="og:title" content="LA-CTF - Lucky flag"><meta property="og:description" content="üìå Description du challenge Link to heading Dans ce challenge, je suis face √† une page web remplie de milliers de boutons portant tous l‚Äô√©tiquette ‚Äúflag‚Äù.
L‚Äôobjectif est de trouver le bon bouton qui affiche le flag.
üîç √âtape 1 : Inspection du code source Link to heading Plut√¥t que de cliquer sur des milliers de boutons je trouve un fichier main.js qui g√®re le fonctionnement des boutons."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-07-01T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-01T00:00:00+00:00"><meta property="article:tag" content="La-Ctf"><meta property="article:tag" content="Lucky Flag"><meta property="article:tag" content="Writeup"><link rel=canonical href=https://anthr4ce.github.io/posts/ctf-writeups/la-ctf/web/lucky-flag/lucky-flag/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.6445a802b9389c9660e1b07b724dcf5718b1065ed2d71b4eeaf981cc7cc5fc46.css integrity="sha256-ZEWoArk4nJZg4bB7ck3PVxixBl7S1xtO6vmBzHzF/EY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/custom.min.fc155f6647e32b79568a40df779b1040eb830a7dde8130f42472f995f92ed186.css integrity="sha256-/BVfZkfjK3lWikDfd5sQQOuDCn3egTD0JHL5lfku0YY=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-light"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://anthr4ce.github.io/>Anthrace | CTF Writeups
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Writeups</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://anthr4ce.github.io/posts/ctf-writeups/la-ctf/web/lucky-flag/lucky-flag/>LA-CTF - Lucky flag</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2025-07-01T00:00:00Z>2025-07-01
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
2-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/la-ctf/>La-Ctf</a>
</span><span class=separator>‚Ä¢</span>
<span class=tag><a href=/tags/lucky-flag/>Lucky Flag</a>
</span><span class=separator>‚Ä¢</span>
<span class=tag><a href=/tags/writeup/>Writeup</a></span></div></div></header><div class=post-content><h2 id=-description-du-challenge><strong>üìå Description du challenge</strong>
<a class=heading-link href=#-description-du-challenge><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Dans ce challenge, je suis face √† une <strong>page web remplie de milliers de boutons</strong> portant tous l‚Äô√©tiquette &ldquo;flag&rdquo;.</p><p><img src=images/flag1.png alt=Screenshot></p><p>L&rsquo;objectif est de <strong>trouver le bon bouton qui affiche le flag</strong>.</p><hr><h2 id=-√©tape-1--inspection-du-code-source><strong>üîç √âtape 1 : Inspection du code source</strong>
<a class=heading-link href=#-%c3%a9tape-1--inspection-du-code-source><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Plut√¥t que de cliquer sur <strong>des milliers de boutons</strong> je trouve un fichier <strong><code>main.js</code></strong> qui g√®re le fonctionnement des boutons.</p><hr><h2 id=-√©tape-2--analyse-du-fichier><strong>üìù √âtape 2 : Analyse du fichier <code>main.js</code></strong>
<a class=heading-link href=#-%c3%a9tape-2--analyse-du-fichier><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=1-observations-importantes><strong>1Ô∏è‚É£ Observations importantes</strong>
<a class=heading-link href=#1-observations-importantes><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>boxes</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>querySelectorAll</span>(<span style=color:#e6db74>&#39;.box&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>flagbox</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>boxes</span>[Math.<span style=color:#a6e22e>floor</span>(Math.<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#a6e22e>boxes</span>.<span style=color:#a6e22e>length</span>)];
</span></span></code></pre></div><ul><li>Le script <strong>choisit un bouton au hasard</strong> (<code>flagbox</code>) parmi tous les boutons (<code>boxes</code>).</li><li>Si on clique sur <strong>le bon bouton</strong>, il r√©v√®le le flag.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>box</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>boxes</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>box</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>flagbox</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>onclick</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>enc</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`&#34;\\u000e\\u0003\\u0001\\u0016\\u0004\\u0019\\u0015V\\u0011=\\u000bU=\\u000e\\u0017\\u0001\\t=R\\u0010=\\u0011\\t\\u000bSS\\u001f&#34;`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>enc</span>.<span style=color:#a6e22e>length</span>; <span style=color:#f92672>++</span><span style=color:#a6e22e>i</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>enc</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>enc</span>);
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>e</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rw</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>e</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>enc</span>) {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>rw</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>charCodeAt</span>(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>^</span> <span style=color:#ae81ff>0x62</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>flag</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rw</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>x</span> =&gt; String.<span style=color:#a6e22e>fromCharCode</span>(<span style=color:#a6e22e>x</span>)).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>`Congrats </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>flag</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>onclick</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;no flag here&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=2-comment-le-flag-est-cach√©-><strong>2Ô∏è‚É£ Comment le flag est cach√© ?</strong>
<a class=heading-link href=#2-comment-le-flag-est-cach%c3%a9-><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li>La variable <code>enc</code> contient <strong>le flag encod√© sous forme de s√©quences Unicode</strong>.</li><li>Le script <strong>d√©codifie</strong> <code>enc</code> gr√¢ce √† <code>JSON.parse(enc)</code>, convertissant les s√©quences Unicode en texte brut.</li><li>Chaque caract√®re de <code>enc</code> a √©t√© <strong>chiffr√© avec un XOR <code>0x62</code> (98 en d√©cimal)</strong> pour masquer le vrai flag.</li><li>La fonction <strong>applique √† nouveau le XOR <code>0x62</code></strong> pour retrouver le flag original.</li></ul><hr><h2 id=-√©tape-3--extraction-du-flag><strong>üí° √âtape 3 : Extraction du flag</strong>
<a class=heading-link href=#-%c3%a9tape-3--extraction-du-flag><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Plut√¥t que de <strong>cliquer sur chaque bouton</strong>, j‚Äôai ex√©cute sur JsFiddle du code pour de trouver la flag.</p><h3 id=1-d√©chiffrement-avec-javascript><strong>1Ô∏è‚É£ D√©chiffrement avec JavaScript</strong>
<a class=heading-link href=#1-d%c3%a9chiffrement-avec-javascript><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>enc</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`&#34;\\u000e\\u0003\\u0001\\u0016\\u0004\\u0019\\u0015V\\u0011=\\u000bU=\\u000e\\u0017\\u0001\\t=R\\u0010=\\u0011\\t\\u000bSS\\u001f&#34;`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>enc</span>.<span style=color:#a6e22e>length</span>; <span style=color:#f92672>++</span><span style=color:#a6e22e>i</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>enc</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>enc</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>e</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rw</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>e</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>enc</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rw</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>charCodeAt</span>(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>^</span> <span style=color:#ae81ff>0x62</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>flag</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rw</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>x</span> =&gt; String.<span style=color:#a6e22e>fromCharCode</span>(<span style=color:#a6e22e>x</span>)).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>flag</span>);
</span></span></code></pre></div><h3 id=2-r√©sultat><strong>2Ô∏è‚É£ R√©sultat</strong>
<a class=heading-link href=#2-r%c3%a9sultat><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p><img src=images/flag2.png alt=Screenshot>
<code>lactf{w4s_i7_luck_0r_ski11}</code></p><hr><h2 id=-conclusion><strong>üèÜ Conclusion</strong>
<a class=heading-link href=#-conclusion><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>‚úÖ <strong>Le challenge reposait sur un flag cach√© dans un script JavaScript et chiffr√© avec un simple XOR.</strong><br>‚úÖ <strong>Plut√¥t que de cliquer al√©atoirement, j‚Äôai analys√© <code>main.js</code> et compris comment il g√©n√©rait le flag.</strong><br>‚úÖ <strong>En ex√©cutant directement le code de d√©chiffrement dans la console du navigateur, j‚Äôai obtenu la flag instantan√©ment.</strong></p><p>Moralit√© : <strong>Toujours inspecter le code source avant d‚Äôessayer une solution fastidieuse !</strong> üîçüí°</p></div><footer></footer></article></section></div><footer class=footer><section class=container>¬©
2025
Anthrace
¬∑
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>